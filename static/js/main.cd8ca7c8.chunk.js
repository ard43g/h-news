(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{12:function(e,t,n){e.exports={page:"newsPage_page__x34pR",wrapper:"newsPage_wrapper__1_nOA",head:"newsPage_head__1AgNu",date:"newsPage_date__1uWE0",title:"newsPage_title__1ioMV",rating:"newsPage_rating__3th5z",link:"newsPage_link__1pfrW",author:"newsPage_author__tbhWY",count:"newsPage_count__1uIFc"}},13:function(e,t,n){e.exports={comment:"commentItem_comment__FRN98",author:"commentItem_author__1OASN",text:"commentItem_text__3a8PF",show:"commentItem_show__62VY8"}},15:function(e,t,n){e.exports={item:"newsListItem_item__1Ii5m",title:"newsListItem_title__23qL8",rating:"newsListItem_rating__3QDtw",author:"newsListItem_author__lFFud",kids:"newsListItem_kids__3wxjm"}},24:function(e,t,n){e.exports={container:"app_container__GORlH",app:"app_app__3-VJD",header:"app_header__35J1_"}},25:function(e,t,n){e.exports={spinner:"spinner_spinner__jsdSi",ldio_45recwnnnld:"spinner_ldio_45recwnnnld__1Wx_t","ldio-45recwnnnld":"spinner_ldio-45recwnnnld__3IxX5",loadingio_spinner_spinner_vbiq0vg9lkf:"spinner_loadingio_spinner_spinner_vbiq0vg9lkf__14VBV"}},30:function(e,t,n){e.exports={main:"mainPage_main__2kLmN"}},44:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(21),i=n.n(s),a=n(18),o=n(14),u=n(3),j=n(24),l=n.n(j),d=n(11),h=n(30),f=n.n(h),b=n(1),O=function(e){var t=e.height,n=void 0===t?20:t,c=e.width,r=void 0===c?20:c,s=e.color,i=void 0===s?"#00DBDE":s;return Object(b.jsx)("svg",{width:r,height:n,xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{fill:i,d:"M20 15c0 .552-.448 1-1 1s-1-.448-1-1 .448-1 1-1 1 .448 1 1m-3 0c0 .552-.448 1-1 1s-1-.448-1-1 .448-1 1-1 1 .448 1 1m-3 0c0 .552-.448 1-1 1s-1-.448-1-1 .448-1 1-1 1 .448 1 1m5.415 4.946c-1 .256-1.989.482-3.324.482-3.465 0-7.091-2.065-7.091-5.423 0-3.128 3.14-5.672 7-5.672 3.844 0 7 2.542 7 5.672 0 1.591-.646 2.527-1.481 3.527l.839 2.686-2.943-1.272zm-13.373-3.375l-4.389 1.896 1.256-4.012c-1.121-1.341-1.909-2.665-1.909-4.699 0-4.277 4.262-7.756 9.5-7.756 5.018 0 9.128 3.194 9.467 7.222-1.19-.566-2.551-.889-3.967-.889-4.199 0-8 2.797-8 6.672 0 .712.147 1.4.411 2.049-.953-.126-1.546-.272-2.369-.483m17.958-1.566c0-2.172-1.199-4.015-3.002-5.21l.002-.039c0-5.086-4.988-8.756-10.5-8.756-5.546 0-10.5 3.698-10.5 8.756 0 1.794.646 3.556 1.791 4.922l-1.744 5.572 6.078-2.625c.982.253 1.932.407 2.85.489 1.317 1.953 3.876 3.314 7.116 3.314 1.019 0 2.105-.135 3.242-.428l4.631 2-1.328-4.245c.871-1.042 1.364-2.384 1.364-3.75"})})},p=function(e){var t=e.height,n=void 0===t?20:t,c=e.width,r=void 0===c?20:c,s=e.color,i=void 0===s?"#00DBDE":s;return Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 24 24",children:Object(b.jsx)("path",{fill:i,d:"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"})})};function x(e){return new Date(1e3*e).toLocaleString("en-GB")}var v=n(15),w=n.n(v),_=function(e){var t=e.item,n=e.toNewsPage,c=t.by,r=t.id,s=t.score,i=t.time,a=t.title,o=t.kids;return Object(b.jsxs)("div",{className:w.a.item,children:[Object(b.jsx)("div",{className:w.a.title,onClick:function(){return n(r)},children:a}),Object(b.jsxs)("div",{className:w.a.rating,children:[Object(b.jsx)(p,{width:25,height:25})," ",s]}),Object(b.jsxs)("div",{className:w.a.author,children:["\u0410\u0432\u0442\u043e\u0440: ",Object(b.jsx)("span",{children:c})]}),Object(b.jsx)("div",{className:w.a.kids,children:o?Object(b.jsx)(O,{width:25,height:25,color:"#fff"}):null}),Object(b.jsxs)("div",{className:w.a.date,children:[" ",x(i)]})]})},m=n(4),g=n.n(m),N=n(10),k="https://hacker-news.firebaseio.com/v0/",y=function(){var e=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k+"newstories.json");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k+"item/"+t+".json");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=E,I="SET_LOADING",L="SET_NEW_STORIES_LIST",D="SET_NEWS",B="SET_ACTIVE_NEWS_ID",P="SET_ACTIVE_NEWS_BODY",T="UPDATE_NEWS",C="SET_LAST_NEWS",A=function(e){return{type:I,payload:e}},V=function(e){return{type:D,payload:e}},W=function(e){return{type:B,payload:e}},R=function(e){return{type:P,payload:e}},z=function(e){return{type:T,payload:e}},F=function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e).then((function(e){return e.json()})).then((function(e){return null!==e&&n(R(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e){var t=e.width,n=void 0===t?20:t,c=e.height,r=void 0===c?20:c,s=e.color,i=void 0===s?"fff":s,a=e.onClick;return Object(b.jsx)("svg",{onClick:a,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:"0 0 24 24",children:Object(b.jsx)("path",{fill:i,d:"M9 12l-4.463 4.969-4.537-4.969h3c0-4.97 4.03-9 9-9 2.395 0 4.565.942 6.179 2.468l-2.004 2.231c-1.081-1.05-2.553-1.699-4.175-1.699-3.309 0-6 2.691-6 6h3zm10.463-4.969l-4.463 4.969h3c0 3.309-2.691 6-6 6-1.623 0-3.094-.65-4.175-1.699l-2.004 2.231c1.613 1.526 3.784 2.468 6.179 2.468 4.97 0 9-4.03 9-9h3l-4.537-4.969z"})})},q=n(25),G=n.n(q),J=function(){return Object(b.jsx)("div",{className:G.a.spinner,children:Object(b.jsx)("div",{className:G.a.loadingio_spinner_spinner_vbiq0vg9lkf,children:Object(b.jsxs)("div",{className:G.a.ldio_45recwnnnld,children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})})})},U={setActiveNewsId:W,fetchNewStoriesList:function(){return function(){var e=Object(N.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().then((function(e){return e.json()})).then((function(e){return t({type:L,payload:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fetchNews:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){var c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=0;case 1:if(!(c<100)){t.next=7;break}return t.next=4,E(e[c]).then((function(e){return e.json()})).then((function(e){return null!==e&&n(V(e))}));case 4:c++,t.next=1;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setLastNews:function(e){return{type:C,payload:e}},fetchUpdateNewStories:function(e){return function(){var t=Object(N.a)(g.a.mark((function t(n){var c,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(A(!0)),c=[],r=0;case 3:if(!(r<e.length)){t.next=9;break}return t.next=6,E(e[r]).then((function(e){return e.json()})).then((function(e){return null!==e&&c.push(e)}));case 6:r++,t.next=3;break;case 9:n(z(c)),n(A(!1));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},X=Object(o.b)((function(e){return{loading:e.loading,error:e.error,news:e.news,newStoriesList:e.newStoriesList,lastNews:e.lastNews}}),U)((function(e){var t=e.newStoriesList,n=e.news,r=e.fetchNewStoriesList,s=e.fetchNews,i=e.lastNews,a=e.setLastNews,o=e.fetchUpdateNewStories,j=e.setActiveNewsId,l=e.loading,h=Object(u.f)(),O=Object(c.useRef)(),p=Object(c.useState)(!1),x=Object(d.a)(p,2),v=x[0],w=x[1],m=function(e){j(e),h.push("/"+e)};return Object(c.useEffect)((function(){O.current&&clearInterval(O.current);var e=setInterval((function(){w(!0)}),6e4);return O.current=e,function(){return clearInterval(e)}}),[v]),Object(c.useEffect)((function(){r()}),[]),Object(c.useEffect)((function(){v&&(r(),w(!1))}),[v]),Object(c.useEffect)((function(){!i&&n&&t&&a(t[0])}),[i,n]),Object(c.useEffect)((function(){!n.length&&t.length&&s(t)}),[t]),Object(c.useEffect)((function(){if(t.length&&i&&i!==t[0]){for(var e=[],n=0;n<t.length;n++)i!==t[n]?e.push(t[n]):n=t.length;a(t[0]),o(e)}}),[t,i]),l?Object(b.jsx)("div",{children:Object(b.jsx)(J,{})}):Object(b.jsx)("main",{className:f.a.main,children:n&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(M,{width:30,height:30,color:"#fff",onClick:function(){w(!0)}}),n.map((function(e){return e?Object(b.jsx)(_,{item:e,toNewsPage:m},e.id):null}))]})})})),Y=n(17),H=n(12),Q=n.n(H),K=function(e){var t=e.width,n=void 0===t?20:t,c=e.height,r=void 0===c?20:c,s=e.color,i=void 0===s?"#000":s,a=e.direction,o=void 0===a?"left":a,u=function(){switch(o){case"right":return"180";case"left":return"0";case"top":return"90";case"bottom":return"270";default:return"0"}}();return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:"0 0 459 459",fill:i,style:{transform:"rotate(".concat(u,"deg)")},children:[Object(b.jsx)("g",{children:Object(b.jsx)("g",{id:"reply",children:Object(b.jsx)("path",{d:"M178.5,140.25v-102L0,216.75l178.5,178.5V290.7c127.5,0,216.75,40.8,280.5,130.05C433.5,293.25,357,165.75,178.5,140.25z"})})}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{}),Object(b.jsx)("g",{})]})},Z=n(13),$=n.n(Z),ee=function e(t){var n=t.comments,r=Object(c.useState)(!1),s=Object(d.a)(r,2),i=s[0],a=s[1],o=Object(c.useState)(null),u=Object(d.a)(o,2),j=u[0],l=u[1],h=Object(c.useState)(!1),f=Object(d.a)(h,2),O=f[0],p=f[1],v=Object(c.useRef)(),w=n.by,_=n.id,m=n.time,k=n.text,y=n.kids;function E(){return(E=Object(N.a)(g.a.mark((function e(t){var n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t).then((function(e){return e.json()}));case 2:c=e.sent,j&&j[0].id!==(null===c||void 0===c||null===(n=c.kids)||void 0===n?void 0:n[0])&&I(c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=[];e.kids.forEach((function(e){S(e).then((function(e){return e.json()})).then((function(e){return t.push(e)})),l(t)}))}return Object(c.useEffect)((function(){v.current&&clearInterval(v.current);var e=setInterval((function(){p(!0)}),6e4);return v.current=e,function(){return clearInterval(e)}}),[O]),Object(c.useEffect)((function(){n&&!j&&n.kids&&I(n)}),[i]),Object(c.useEffect)((function(){O&&(!function(e){E.apply(this,arguments)}(_),p(!1))}),[O]),n.deleted?Object(b.jsx)("div",{className:$.a.comment,children:Object(b.jsxs)("div",{className:$.a.author,children:[Object(b.jsxs)("span",{className:$.a.date,children:[" ",x(m)]}),Object(b.jsx)("div",{className:$.a.text,style:{textDecoration:"line-through"},children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0434\u0430\u043b\u0435\u043d"})]})}):Object(b.jsxs)("div",{className:$.a.comment,children:[Object(b.jsxs)("div",{className:$.a.author,children:[Object(b.jsx)(M,{width:16,height:16,onClick:function(){p(!0)}}),"\u041e\u0442 ",Object(b.jsx)("span",{children:w}),Object(b.jsxs)("span",{className:$.a.date,children:[" ",x(m)]})]}),Object(b.jsx)("div",{className:$.a.text,children:k}),y&&Object(b.jsxs)("div",{className:$.a.show,children:[Object(b.jsx)(K,{width:20,height:20,color:"#3E88F3",direction:i?"bottom":"right"}),!i&&Object(b.jsx)("span",{onClick:function(){return i?null:a(!0)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b"})]}),i&&j&&j.map((function(t){return t.deleted?null:Object(b.jsx)(e,{comments:t},t.id)}))]})},te=function(){var e=Object(u.g)(),t=Object(o.d)((function(e){return{activeNewsId:e.activeNewsId,activeNewsBody:e.activeNewsBody}})),n=t.activeNewsId,r=t.activeNewsBody,s=Object(o.c)(),i=Object(c.useRef)(),a=Object(c.useState)([]),j=Object(d.a)(a,2),l=j[0],h=j[1],f=Object(c.useState)(!1),x=Object(d.a)(f,2),v=x[0],w=x[1],_=Object(c.useState)(null),m=Object(d.a)(_,2),g=m[0],N=m[1];if(Object(c.useEffect)((function(){i.current&&clearInterval(i.current);var e=setInterval((function(){w(!0)}),3e7);return i.current=e,function(){return clearInterval(e)}}),[v]),Object(c.useEffect)((function(){return e.id&&!n&&(s(W(e.id)),s(F(e.id))),n&&!r&&s(F(n)),function(){s(W(null)),s(R(null))}}),[]),Object(c.useEffect)((function(){g&&g.kids&&g.kids.forEach((function(e){return S(e).then((function(e){return e.json()})).then((function(e){return h((function(t){return[].concat(Object(Y.a)(t),[e])}))}))}))}),[g]),Object(c.useEffect)((function(){r&&!g&&N(r)}),[r]),Object(c.useEffect)((function(){v&&(s(F(n)),h([]),N(null),w(!1))}),[v]),!g)return Object(b.jsx)(J,{});var k=g.by,y=g.descendants,E=g.score,I=g.time,L=g.title,D=g.url,B=g.kids;return g&&Object(b.jsx)("main",{className:Q.a.page,children:Object(b.jsxs)("div",{className:Q.a.wrapper,children:[Object(b.jsxs)("div",{className:Q.a.head,children:[Object(b.jsxs)("div",{className:Q.a.date,children:["\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 : ",new Date(1e3*I).toLocaleString("en-GB")]}),Object(b.jsx)(p,{height:40,width:40,color:"#00DBDE"}),Object(b.jsx)("div",{className:Q.a.rating,children:E}),Object(b.jsx)(M,{width:35,height:35,onClick:function(){w(!0)}})]}),Object(b.jsx)("div",{className:Q.a.title,children:Object(b.jsx)("h1",{children:L})}),Object(b.jsx)("div",{className:Q.a.link,children:Object(b.jsx)("a",{href:D,target:"_blank",rel:"noreferrer",children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0435"})}),Object(b.jsxs)("div",{className:Q.a.author,children:["\u0410\u0432\u0442\u043e\u0440: ",Object(b.jsx)("span",{children:k})]}),Object(b.jsxs)("div",{className:Q.a.count,children:[Object(b.jsx)("span",{children:y||((null===B||void 0===B?void 0:B.length)||0)}),Object(b.jsx)(O,{width:25,height:25,color:"#eee"})]}),l&&l.map((function(e){return e&&Object(b.jsx)(ee,{comments:e},e.id)}))]})})};var ne=function(){var e=Object(u.f)();return Object(b.jsxs)("div",{className:l.a.app,children:[Object(b.jsx)("header",{className:l.a.header,children:Object(b.jsx)("span",{onClick:function(){"/"!==e.location.pathname&&e.push("/")},children:"Hacker News API"})}),Object(b.jsx)("div",{className:l.a.container,children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/:id",component:te,exact:!0}),Object(b.jsx)(u.a,{path:"/",component:X,exact:!0})]})})]})},ce=n(26),re=n(32),se=n(5),ie={loading:!1,error:!1,newStoriesList:[],news:[],activeNewsId:null,activeNewsBody:null,lastNews:null,countVisibleNews:100},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(se.a)(Object(se.a)({},e),{},{loading:t.payload});case L:return Object(se.a)(Object(se.a)({},e),{},{newStoriesList:t.payload});case D:return Object(se.a)(Object(se.a)({},e),{},{news:[].concat(Object(Y.a)(e.news),[t.payload])});case C:return Object(se.a)(Object(se.a)({},e),{},{lastNews:t.payload});case B:return Object(se.a)(Object(se.a)({},e),{},{activeNewsId:t.payload});case P:return Object(se.a)(Object(se.a)({},e),{},{activeNewsBody:t.payload});case T:return Object(se.a)(Object(se.a)({},e),{},{news:[].concat(Object(Y.a)(t.payload),Object(Y.a)(e.news)).slice(0,e.countVisibleNews)});default:return e}},oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ce.b,ue=Object(ce.c)(ae,oe(Object(ce.a)(re.a)));i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(a.a,{children:Object(b.jsx)(o.a,{store:ue,children:Object(b.jsx)(ne,{})})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.cd8ca7c8.chunk.js.map